\documentclass{ctexbook}

\usepackage{geometry}
\geometry{
    % a4paper,
    paperheight=260mm,
    paperwidth=185mm,
    top=23mm,
    bottom=23mm,
    left=20mm,
    right=20mm,
}
% \usepackage[UTF8, heading = false, scheme = plain]{ctex} % 格式
\usepackage{ctex}
\usepackage[Bjornstrup]{fncychap} % found on Internet
\usepackage[utf8]{inputenc}
\usepackage{bm}
\usepackage{graphicx} % 添加图片
\usepackage{amsmath}
\renewcommand{\vec}[1]{\boldsymbol{#1}} % 生成粗体向量，而非带箭头的向量
\usepackage{amssymb}
\usepackage{booktabs} % Excel 导出的大表格
\usepackage{rotating}
\usepackage{extarrows}
\usepackage{enumitem}
\usepackage{xcolor}
\usepackage{multicol}
\usepackage{float}
\usepackage{mdframed}

\usepackage{tikz}
\usepackage{pgfplots}
\usetikzlibrary{cd, arrows, arrows.meta, calc, intersections, decorations.pathreplacing, patterns, decorations.markings}
\pgfplotsset{compat=1.17}

\usepackage{indentfirst}
\setlength{\parindent}{2em}

\usepackage{ntheorem}
\theoremheaderfont{\bfseries\heiti}
\theorembodyfont{\fangsong}

\usepackage{makeidx} % 名词索引
\makeindex % TODO 拼音排序

\usepackage{xparse}
% \keyterm{关键词}[英文] - 生成索引
% \keyterm*{关键词}[英文] - 不生成索引
\NewDocumentCommand{\keyterm}{smo}{%
    {\sffamily\heiti\bfseries{#2}%
    \IfNoValueF{#3}{（{#3}）}}%
    \IfBooleanF{#1}{\index{#2}}%
}

\usepackage{zhnumber}

% chapter 标题修改为第 * 讲
\ctexset{
    chapter={format={\centering\Huge\bfseries},name={第,讲},number=\arabic{chapter}},
    section={format={\raggedright\Large\bfseries},name={,},number={\arabic{chapter}.\arabic{section}}},
    subsection={format={\raggedright\large\bfseries},name={,},number={\arabic{chapter}.\arabic{section}.\arabic{subsection}}},
    subsubsection={format={\raggedright\normalsize\bfseries},name={,},number={\arabic{chapter}.\arabic{section}.\arabic{subsection}.\arabic{subsubsection}}},
}

\usepackage{mismath} % 包含 rank, span 等命令

\usepackage{pdfpages}

% hyperref 与 cleveref 需要最后引入
\usepackage{hyperref}
\usepackage{cleveref}


\newtheorem{definition}{定义}[chapter] % 中文
\newtheorem{example}{例}[chapter]
\newtheorem{lemma}{引理}[chapter]
\newtheorem{theorem}{定理}[chapter]
\newtheorem{corollary}{推论}[chapter]
\newenvironment{proof}{{\noindent\bfseries\heiti 证明}\quad\fangsong}{\hfill$\square$\par}
\newenvironment{solution}{\fangsong}{\par}

\renewcommand{\figureautorefname}{图}
\renewcommand{\tableautorefname}{表}
\renewcommand{\equationautorefname}{式}
\renewcommand{\theoremautorefname}{定理}
\renewcommand{\sectionautorefname}{节}
\newcommand{\lemmaautorefname}{引理}
\newcommand{\corollaryautorefname}{推论}
\newcommand{\exampleautorefname}{例}
\newcommand{\definitionautorefname}{定义}
\crefrangeformat{equation}{式~#3#1#4--#5#2#6}
\crefrangeformat{example}{例~#3#1#4--#5#2#6}

\title{Discrete Mathematics Made Concrete}
\author{FrightenedFoxCN \quad frightenedfox@outlook.com}

% 嵌套 enumerate 环境的 label
\setlist[enumerate,2]{label=(\arabic*)}
\setlist[enumerate,3]{label=\roman*.}

\begin{document}
\frontmatter

\maketitle

\null
\thispagestyle{empty}
\clearpage

\pdfbookmark[0]{目录}{contents}
\tableofcontents

\addtolength{\parskip}{.5em}

\mainmatter
\setcounter{page}{1} % 将页码计数设置为 1
\input{./1_mathematical_logic/00preface.tex}
\input{./1_mathematical_logic/01classical_logic.tex}

% \setcounter{chapter}{0}
% \input{./2_algorithm_and_computation/00preface.tex}

% \setcounter{chapter}{0}
% \input{./3_discrete_structures/00preface.tex}

% \setcounter{chapter}{0}
% \input{./4_discrete_dynamical_system/00preface.tex}

% \setcounter{chapter}{0}
% \input{./5_combinatorics/00preface.tex}

% \setcounter{chapter}{0}
% \input{./6_probablistics/00preface.tex}

% \setcounter{chapter}{0}
% \input{./7_graphs/00preface.tex}

% \setcounter{chapter}{0}
% \input{./8_coding_and_cryptology/00preface.tex}

% \setcounter{chapter}{0}
% \input{./9_discrete_geometry/00preface.tex}

\backmatter
\pdfbookmark[0]{索引}{index}
\printindex

\end{document}